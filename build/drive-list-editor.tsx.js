!function(){"use strict";var e={n:function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},d:function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};!function(e,t,i){var r=window.wp.element,l=window.wp.blocks,n=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,a=window.wp.apiFetch,d=i.n(a),c=JSON.parse('{"apiVersion":2,"name":"wp-drive-list/drive-list","title":"Drive list","category":"text","description":"Lists files in a shared Google Drive folder","keywords":["drive","google","file"],"icon":"list-view","textdomain":"wp-drive-list","attributes":{"url":{"type":"string"}},"editorScript":"file:../../../build/drive-list-editor.tsx.js","editorStyle":"file:../../../build/drive-list-editor.tsx.css"}');const x=(0,n.__)("No files to display","wp-drive-list");(0,l.registerBlockType)(c,{edit:e=>{let{attributes:t,setAttributes:i}=e;const{url:l}=t,[a,c]=(0,r.useState)([]);return(0,r.useEffect)((()=>{d()({path:`wp-drive-list/v1/drive/list?url=${l}`}).then((e=>{c(e)}))}),[l]),(0,r.createElement)("div",(0,o.useBlockProps)(),(0,r.createElement)(o.InspectorControls,null,(0,r.createElement)(s.PanelBody,{title:(0,n.__)("Basic settings","wp-drive-list"),initialOpen:!0},(0,r.createElement)(s.PanelRow,null,(0,r.createElement)(s.TextControl,{label:(0,n.__)("Shared folder URL","wp-drive-list"),value:l||"",placeholder:"https://drive.google.com/drive/folders/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",onChange:e=>{i({...t,url:e})}})))),a.length>0?(0,r.createElement)("ul",null,a.map(((e,t)=>(0,r.createElement)("li",{key:`${t}`},(0,r.createElement)("a",{href:e.url},e.name))))):(0,r.createElement)("div",null,x))},save:()=>(0,r.createElement)("div",o.useBlockProps.save(),x)})}(0,0,e)}();