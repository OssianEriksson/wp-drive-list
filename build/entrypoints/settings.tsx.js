!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.components,r=window.wp.notices,l=window.wp.i18n,a=window.wp.data,i=window.wp.apiFetch,s=e.n(i);const c=e=>(0,t.createElement)(t.Fragment,null,(0,l.__)("The following error has occurred:","wp-drive-list"),(0,t.createElement)("pre",{className:"error"},JSON.stringify(e,null,4))),o=()=>{const e=(0,a.useSelect)((e=>e(r.store).getNotices())).filter((e=>"snackbar"===e.type)),{removeNotice:l}=(0,a.useDispatch)(r.store);return(0,t.createElement)(n.SnackbarList,{notices:e,onRemove:l})},u=()=>(0,t.createElement)(n.Placeholder,null,(0,t.createElement)("div",{className:"placeholder-center"},(0,t.createElement)(n.Spinner,null))),d=()=>{const[e,i]=(0,t.useState)(null),[o,d]=(0,t.useState)(null);(0,t.useEffect)((()=>{s()({path:"/wp/v2/settings"}).then((e=>{d(e?.wp_drive_list_option)})).catch((e=>i(e)))}),[]);const{createNotice:p}=(0,a.useDispatch)(r.store);return e?(0,t.createElement)(c,{error:e}):o?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.TextControl,{label:(0,l.__)("Google API key","wp-drive-list"),value:o.api_key,onChange:e=>d({...o,api_key:e})}),(0,t.createElement)(n.Button,{onClick:()=>{s()({path:"/wp/v2/settings",method:"POST",data:{wp_drive_list_option:o}}).then((()=>p("success",(0,l.__)("Settings saved.","wp-drive-list"),{type:"snackbar"}))).catch((e=>p("error",e?.message||JSON.stringify(e),{type:"snackbar"})))},isPrimary:!0},(0,l.__)("Save changes","wp-drive-list"))):(0,t.createElement)(u,null)};var p=()=>(0,t.createElement)("div",{className:"wp-drive-list-settings"},(0,t.createElement)("h1",null,(0,l.__)("WP Drive List Settings","wp-drive-list")),(0,t.createElement)(d,null),(0,t.createElement)(o,null));document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("wp-drive-list-settings");e&&(0,t.render)((0,t.createElement)(p,null),e)}))}();